(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{36:function(e,t,r){e.exports=r(37)},37:function(e,t,r){"use strict";r.r(t);var a=r(18),n=r(8),o=r(9),i=r(11),s=r(10),c=r(12),d=r(0),u=r.n(d),l=(r(23),r(22)),m=r.n(l),p=r(7),h=(r(88),r(15)),f=r.n(h),v=function(e){function t(){var e,r;Object(n.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(r=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).update=function(){var e=r.props.unit,t=r.refs.group,a=e*Math.round(t.x()/e),n=e*Math.round(t.y()/e);t.x(a),t.y(n),r.props.update(r.props.id,t.x(),t.y())},r}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return u.a.createElement(p.Group,{ref:"group",draggable:!0,onDragEnd:this.update,x:this.props.x,y:this.props.y},u.a.createElement(p.Circle,{ref:"circle",x:0,y:0,radius:20,fill:"red"}),u.a.createElement(p.Text,{text:this.props.name,x:-20,y:-10,width:40,height:20,align:"center",verticalAlign:"middle"}))}}]),t}(u.a.Component),O=function(e){function t(e){var r;return Object(n.a)(this,t),(r=Object(i.a)(this,Object(s.a)(t).call(this,e))).addDancer=function(){var e=r.refs.dancerName.value;!1===r.props.addDancer(e)?r.setState({validName:!1}):(r.setState({validName:!0}),r.refs.dancerName.value="")},r.state={validName:!0},r}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=null;return this.state.validName||(e="Error: Blank or duplicate dancer name"),u.a.createElement("div",{className:"dancer-section"},u.a.createElement("div",null,u.a.createElement("label",null,"Dancer Name:"),u.a.createElement("input",{name:"dancer_name",ref:"dancerName"})),u.a.createElement("div",null,u.a.createElement("button",{onClick:this.addDancer},"Add Dancer")),u.a.createElement("div",null,e))}}]),t}(u.a.Component),b=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=[],r=this.props.formation,a=this.props.dancers,n=function(n){r[n]?t.push(u.a.createElement("li",null,a[n]+": ("+r[n].x+", "+r[n].y+")")):t.push(u.a.createElement("li",null,a[n]+": N/A",u.a.createElement("button",{onClick:function(){return e.props.addToFormation(n)}},"Add To Formation")))};for(var o in a)n(o);return u.a.createElement("div",{className:"sidebar"},u.a.createElement("div",{className:"text-div"},u.a.createElement("ul",null,t)),u.a.createElement(O,{addDancer:this.props.addDancer}))}}]),t}(u.a.Component),j=function(e){function t(){var e,r;Object(n.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(r=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).updateDancer=function(e,t,a){var n=r.props.unit,o=n*Math.round(t/n),i=n*Math.round(a/n);r.props.update(e,o,i)},r}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){for(var e=this.props.unit,t=this.props.width,r=this.props.height,a=[],n=e;n<t;n+=e)a.push(u.a.createElement(p.Line,{points:[n,0,n,r],stroke:"grey",strokeWidth:2,opacity:.2}));for(var o=e;o<r;o+=e)a.push(u.a.createElement(p.Line,{points:[0,o,t,o],stroke:"grey",strokeWidth:2,opacity:.2}));var i=Object.assign({},this.props.formation),s=Object.assign({},this.props.dancers),c=[];for(var d in i)c.push(u.a.createElement(v,{id:d,name:s[d],x:i[d].x,y:i[d].y,update:this.props.update,unit:this.props.unit}));return u.a.createElement(p.Stage,{className:"stage",width:this.props.width,height:this.props.height},u.a.createElement(p.Layer,null,a,c))}}]),t}(u.a.Component),E=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"onReorder",value:function(e,t,r,a,n){this.props.setFormOrder(Object(h.reorder)(this.props.formationOrder,t,r))}},{key:"onReorderGroup",value:function(e,t,r,n,o){if(n===o){var i=Object(h.reorderImmutable)(this.state[n],t,r);this.setState(Object(a.a)({},n,i))}else{var s,c=Object(h.reorderFromToImmutable)({from:this.state[n],to:this.state[o]},t,r);this.setState((s={},Object(a.a)(s,n,c.from),Object(a.a)(s,o,c.to),s))}}},{key:"render",value:function(){var e=this;return u.a.createElement(f.a,{className:"timeline",reorderId:"formations-list",reorderGroup:"formations-group",component:"div",placeholderClassName:"placeholder",draggedClassName:"dragged",lock:"vertical",holdTime:500,onReorder:this.onReorder.bind(this),autoScroll:!0},this.props.formationOrder.map((function(t){return u.a.createElement("div",{onClick:function(){e.props.setCurrentForm(t)},className:"timeline-formation",key:t},t)})))}}]),t}(u.a.Component),g=function(e){function t(e){var r;return Object(n.a)(this,t),(r=Object(i.a)(this,Object(s.a)(t).call(this,e))).updateDancer=function(e,t,a){var n=Object.assign({},r.state.formations);n[r.state.currentFormId][e]={x:t,y:a},r.setState({formations:n})},r.addToFormation=function(e){var t=Object.assign({},r.state.formations);t[r.state.currentFormId][e]||(t[r.state.currentFormId][e]=r.defaultPos()),r.setState({formations:t})},r.addDancer=function(e){if(null===(e=e.trim())||""===e)return!1;var t=Object.assign({},r.state.dancers);for(var a in t)if(t[a].toLowerCase()===e.toLowerCase())return!1;var n=r.state.nextId;return t[n.toString()]=e,r.setState({dancers:t,nextId:n+1}),!0},r.setCurrentForm=function(e){r.setState({currentFormId:e})},r.setFormOrder=function(e){r.setState({formationOrder:e})},r.addFormation=function(){var e=Object.assign({},r.state.formations),t=Object.assign([],r.state.formationOrder);e[r.state.nextFormId.toString()]={},t.push(r.state.nextFormId.toString()),r.setState({formations:e,formationOrder:t,nextFormId:r.state.nextFormId+1})},r.state={formations:{0:{},1:{},2:{}},dancers:{},formationOrder:["0","1","2"],nextId:0,nextFormId:3,currentFormId:"0"},r}return Object(c.a)(t,e),Object(o.a)(t,[{key:"defaultPos",value:function(){return{x:40,y:40}}},{key:"render",value:function(){return u.a.createElement("div",{className:"outerDiv"},u.a.createElement("div",{className:"upperDiv"},u.a.createElement(j,{dancers:this.state.dancers,formation:this.state.formations[this.state.currentFormId],update:this.updateDancer,width:600,height:600,unit:40}),u.a.createElement(b,{addToFormation:this.addToFormation,dancers:this.state.dancers,formation:this.state.formations[this.state.currentFormId],addDancer:this.addDancer})),u.a.createElement("div",{className:"lowerDiv"},u.a.createElement(E,{setCurrentForm:this.setCurrentForm,setFormOrder:this.setFormOrder,formationOrder:this.state.formationOrder,currentFormId:this.state.currentFormId}),u.a.createElement("div",null,"Current Formation: "+this.state.currentFormId),u.a.createElement("div",null,u.a.createElement("button",{onClick:this.addFormation},"Add Formation"))))}}]),t}(d.Component);m.a.render(u.a.createElement(g,null),document.getElementById("root"))},88:function(e,t,r){}},[[36,1,2]]]);
//# sourceMappingURL=main.f40468bb.chunk.js.map